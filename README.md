# jserial - JNI native library

This repository contains the native library used by [jserial-java](https://github.com/ljbo82/jserial-java) library.

## Supported platforms

Currently, the library is supported for the following platforms:

* linux-x64
* windows-x64

## Cloning

This repository uses [submodules](https://git-scm.com/book/en/v2/Git-Tools-Submodules). When cloning this repo, ensure the option `--recursive` is present.

## Compiling

In order to compile this library, the following tools must be present on the system (the validated build machine was running Ubuntu 20.04):

* [GNU Make](https://www.gnu.org/software/make/) (v.4.2+)

  * On ubuntu, GNU make can be installed via apt:

    ```sh
    sudo apt install build-essential
    ```

* [GCC](https://gcc.gnu.org/) (v.9.4+)

  * On ubuntu, GCC can be installed via apt:

    ```sh
    sudo apt install build-essential
    ```

* [Mingw-w64](https://www.mingw-w64.org/) GCC (v.9.3+)

  * On ubuntu, Mingw-w64 can be installed via apt:

    ```sh
    sudo apt install gcc-mingw-w64
    ```

### Building lib for linux-x64

Just call from the project root directory:

```sh
make HOST=linux-x64 O=output/linux-x64
```

The result library will be located in **`output/linux-x64/dist/lib/jserial-jni-x64.so`**

### Building lib for windows-x64

Similarly, call (from the project root directory):

```sh
make HOST=windows-x64 O=output/windows-x64
```

The result library will be located in **`output/windows-x64/dist/lib/jserial-jni-x64.dll`**

## Cleaning source tree

In order to delete the artifacts generated by build process, just call (from the project root directory):

```sh
make clean
```

## Licensing

This project is distributed under MIT License. Please see the [LICENSE](LICENSE) file for details on copying and distribution.

## Contact

For general information visit the main project site at https://github.com/ljbo82/jserial-jni.
